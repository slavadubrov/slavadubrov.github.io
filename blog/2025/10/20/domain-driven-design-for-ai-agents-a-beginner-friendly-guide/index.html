
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Learn how domain-driven design (DDD) keeps AI agents aligned with the business domain, with practical patterns, code snippets, and tooling tips.">
      
      
        <meta name="author" content="Viacheslav Dubrov">
      
      
        <link rel="canonical" href="https://slavadubrov.github.io/blog/2025/10/20/domain-driven-design-for-ai-agents-a-beginner-friendly-guide/">
      
      
        <link rel="prev" href="../../05/context-engineering-in-the-agenticai-era--and-how-to-cook-it/">
      
      
        <link rel="next" href="../../22/lorax-playbook---orchestrating-thousands-of-lora-adapters-on-kubernetes/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../../assets/favicon-eoc.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Domain-driven design for AI agents: a beginner-friendly guide - Edge of Context: Tips & Tricks in Machine Learning</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/brand.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#domain-driven-design-for-ai-agents-a-beginner-friendly-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="Edge of Context: Tips &amp; Tricks in Machine Learning" class="md-header__button md-logo" aria-label="Edge of Context: Tips & Tricks in Machine Learning" data-md-component="logo">
      
  <img src="../../../../../assets/logo-eoc.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Edge of Context: Tips & Tricks in Machine Learning
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Domain-driven design for AI agents: a beginner-friendly guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../topics/" class="md-tabs__link">
        
  
  
    
  
  Topics

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../../../../" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Edge of Context: Tips &amp; Tricks in Machine Learning" class="md-nav__button md-logo" aria-label="Edge of Context: Tips & Tricks in Machine Learning" data-md-component="logo">
      
  <img src="../../../../../assets/logo-eoc.svg" alt="logo">

    </a>
    Edge of Context: Tips & Tricks in Machine Learning
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    <span class="md-ellipsis">
      TL;DR
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-domain-driven-design-matters-for-ai-agents" class="md-nav__link">
    <span class="md-ellipsis">
      Why domain-driven design matters for AI agents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategic-building-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Strategic building blocks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Strategic building blocks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ubiquitous-language" class="md-nav__link">
    <span class="md-ellipsis">
      Ubiquitous language
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bounded-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      Bounded contexts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entities-and-value-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Entities and value objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregates" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Repositories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-events" class="md-nav__link">
    <span class="md-ellipsis">
      Domain events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#translating-ddd-to-agent-architectures" class="md-nav__link">
    <span class="md-ellipsis">
      Translating DDD to agent architectures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Translating DDD to agent architectures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bounded-contexts-become-agents-or-skills" class="md-nav__link">
    <span class="md-ellipsis">
      Bounded contexts become agents or skills
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prompts-honor-the-ubiquitous-language" class="md-nav__link">
    <span class="md-ellipsis">
      Prompts honor the ubiquitous language
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-becomes-explicit-entities" class="md-nav__link">
    <span class="md-ellipsis">
      State becomes explicit entities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregates-express-agent-plans" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregates express agent plans
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-events-drive-orchestration" class="md-nav__link">
    <span class="md-ellipsis">
      Domain events drive orchestration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#business-rules-wrap-ai-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Business rules wrap AI actions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-anti-corruption-layer-acl" class="md-nav__link">
    <span class="md-ellipsis">
      The Anti-Corruption Layer (ACL)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-a-task-assistant-modeled-with-ddd" class="md-nav__link">
    <span class="md-ellipsis">
      Example: a task assistant modeled with DDD
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example: a task assistant modeled with DDD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-map-the-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      1. Map the contexts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-speak-the-same-language" class="md-nav__link">
    <span class="md-ellipsis">
      2. Speak the same language
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-capture-entities-value-objects-and-events" class="md-nav__link">
    <span class="md-ellipsis">
      3. Capture entities, value objects, and events
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-shape-the-aggregate" class="md-nav__link">
    <span class="md-ellipsis">
      4. Shape the aggregate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-wrap-persistence-in-a-repository" class="md-nav__link">
    <span class="md-ellipsis">
      5. Wrap persistence in a repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-run-the-flow" class="md-nav__link">
    <span class="md-ellipsis">
      6. Run the flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tooling-to-bring-the-model-to-life" class="md-nav__link">
    <span class="md-ellipsis">
      Tooling to bring the model to life
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tooling to bring the model to life">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fastapi" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic-and-pydantic-ai" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic and Pydantic AI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ddd-helper-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      DDD helper libraries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-driven-tooling" class="md-nav__link">
    <span class="md-ellipsis">
      Event-driven tooling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-frameworks" class="md-nav__link">
    <span class="md-ellipsis">
      Agent frameworks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started checklist
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2025-10-20 00:00:00+00:00" class="md-ellipsis">October 20, 2025</time>
                      </div>
                    </li>
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 13h1.5v2.82l2.44 1.41-.75 1.3L15 16.69zm4-5H5v11h4.67c-.43-.91-.67-1.93-.67-3a7 7 0 0 1 7-7c1.07 0 2.09.24 3 .67zM5 21a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v6.1c1.24 1.26 2 2.99 2 4.9a7 7 0 0 1-7 7c-1.91 0-3.64-.76-4.9-2zm11-9.85A4.85 4.85 0 0 0 11.15 16c0 2.68 2.17 4.85 4.85 4.85A4.85 4.85 0 0 0 20.85 16c0-2.68-2.17-4.85-4.85-4.85"/></svg>
                          <time datetime="2025-10-20 00:00:00+00:00" class="md-ellipsis">October 20, 2025</time>
                        </div>
                      </li>
                    
                    
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  


  <nav class="md-tags" >
    
      
      
      
        <a href="../../../../../topics/#tag:agents" class="md-tag">agents</a>
      
    
      
      
      
        <a href="../../../../../topics/#tag:ai-engineering" class="md-tag">ai-engineering</a>
      
    
      
      
      
        <a href="../../../../../topics/#tag:architecture" class="md-tag">architecture</a>
      
    
      
      
      
        <a href="../../../../../topics/#tag:domain-driven-design" class="md-tag">domain-driven-design</a>
      
    
  </nav>



<h1 id="domain-driven-design-for-ai-agents-a-beginner-friendly-guide">Domain-driven design for AI agents: a beginner-friendly guide</h1>
<h2 id="tldr">TL;DR</h2>
<blockquote>
<p>Domain-driven design (DDD) gives AI agent teams a shared language, clear boundaries, and code that mirrors the real world. Use it to tame prompt spaghetti, enforce business rules, and evolve systems without breaking everything.</p>
</blockquote>
<p><img alt="DDD Layered Architecture" src="../../../../assets/2025-10-20-domain-driven-design-ai-agents/ddd_layered_architecture.svg" /></p>
<!-- more -->

<hr />
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#domain-driven-design-for-ai-agents-a-beginner-friendly-guide">Domain-driven design for AI agents: a beginner-friendly guide</a><ul>
<li><a href="#tldr">TL;DR</a></li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#why-domain-driven-design-matters-for-ai-agents">Why domain-driven design matters for AI agents</a></li>
<li><a href="#strategic-building-blocks">Strategic building blocks</a><ul>
<li><a href="#ubiquitous-language">Ubiquitous language</a></li>
<li><a href="#bounded-contexts">Bounded contexts</a></li>
<li><a href="#entities-and-value-objects">Entities and value objects</a></li>
<li><a href="#aggregates">Aggregates</a></li>
<li><a href="#repositories">Repositories</a></li>
<li><a href="#domain-events">Domain events</a></li>
</ul>
</li>
<li><a href="#translating-ddd-to-agent-architectures">Translating DDD to agent architectures</a><ul>
<li><a href="#bounded-contexts-become-agents-or-skills">Bounded contexts become agents or skills</a></li>
<li><a href="#prompts-honor-the-ubiquitous-language">Prompts honor the ubiquitous language</a></li>
<li><a href="#state-becomes-explicit-entities">State becomes explicit entities</a></li>
<li><a href="#aggregates-express-agent-plans">Aggregates express agent plans</a></li>
<li><a href="#domain-events-drive-orchestration">Domain events drive orchestration</a></li>
<li><a href="#business-rules-wrap-ai-actions">Business rules wrap AI actions</a></li>
</ul>
</li>
<li><a href="#example-a-task-assistant-modeled-with-ddd">Example: a task assistant modeled with DDD</a><ul>
<li><a href="#1-map-the-contexts">1. Map the contexts</a></li>
<li><a href="#2-speak-the-same-language">2. Speak the same language</a></li>
<li><a href="#3-capture-entities-value-objects-and-events">3. Capture entities, value objects, and events</a></li>
<li><a href="#4-shape-the-aggregate">4. Shape the aggregate</a></li>
<li><a href="#5-wrap-persistence-in-a-repository">5. Wrap persistence in a repository</a></li>
<li><a href="#6-run-the-flow">6. Run the flow</a></li>
</ul>
</li>
<li><a href="#tooling-to-bring-the-model-to-life">Tooling to bring the model to life</a><ul>
<li><a href="#fastapi">FastAPI</a></li>
<li><a href="#pydantic-and-pydantic-ai">Pydantic and Pydantic AI</a></li>
<li><a href="#ddd-helper-libraries">DDD helper libraries</a></li>
<li><a href="#event-driven-tooling">Event-driven tooling</a></li>
<li><a href="#agent-frameworks">Agent frameworks</a></li>
<li><a href="#testing">Testing</a></li>
</ul>
</li>
<li><a href="#getting-started-checklist">Getting started checklist</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="why-domain-driven-design-matters-for-ai-agents">Why domain-driven design matters for AI agents</h2>
<p>AI agent projects fail for a surprising reason: not because the code is bad, but because developers and domain experts can't understand each other. You've seen it—business teams ask for a "policy check" and get back a <code>process_data()</code> method. Nobody knows what it does, so requirements drift and systems calcify.</p>
<p>Domain-driven design (DDD) fixes this by putting the <strong>business domain</strong> at the center. Not the database schema. Not the prompt template. The actual real-world process you're trying to model. This alignment delivers three immediate wins:</p>
<ul>
<li><strong>Shared language.</strong> Everyone—product, ops, engineering—uses the same words. When compliance says "refund request", that's what appears in your code, prompts, and documentation.</li>
<li><strong>Focused scope.</strong> You build what matters: the core workflows, compliance rules, and critical metrics. Not mountains of glue code that break when requirements shift.</li>
<li><strong>Adaptability.</strong> When policies change (and they will), you update one well-defined slice instead of hunting through a monolithic tangle.</li>
</ul>
<p>This matters most in complex domains where rules evolve constantly—think finance, healthcare, operations, or any regulated industry. DDD gives you a fighting chance to keep up.</p>
<hr />
<h2 id="strategic-building-blocks">Strategic building blocks</h2>
<p>DDD isn't one big idea—it's a toolkit of patterns that work together. It's often split into two parts:</p>
<ol>
<li><strong>Strategic Design</strong>: The "big picture" stuff. Defining boundaries, teams, and how systems talk. This is crucial for multi-agent systems.</li>
<li><strong>Tactical Design</strong>: The code-level patterns (Entities, Aggregates). This keeps your agent's internal logic clean.</li>
</ol>
<p>Here are the core concepts you'll use every day.</p>
<h3 id="ubiquitous-language">Ubiquitous language</h3>
<p>This is the shared vocabulary that shows up everywhere: in meetings, documentation, prompts, and method names. No translation layers between "business speak" and "code speak."</p>
<p>If compliance says "policy check", your method is <code>run_policy_check()</code>, not <code>process_data()</code>. If doctors say "admit patient", you write <code>admit_patient()</code>, not <code>add_user()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PatientRegistry</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">admit_patient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">patient_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Admit a patient to the registry - term used by medical staff.&quot;&quot;&quot;</span>
        <span class="o">...</span>
</code></pre></div>
<p>This eliminates translation gaps and makes code self-documenting. When requirements change, the language change is obvious and localized.</p>
<h3 id="bounded-contexts">Bounded contexts</h3>
<p>Large systems need explicit boundaries. Why? Because the same word means different things in different parts of the business.</p>
<p>Take "product" in e-commerce. In the <strong>Inventory</strong> context, a product is a catalog item with SKUs and stock counts. In the <strong>Billing</strong> context, it's a line item with pricing rules and tax calculations. In <strong>Order Management</strong>, it's a quantity and delivery promise.</p>
<p>Bounded contexts let each subdomain have its own definition without conflict. Translation layers or interfaces connect them when they need to talk.</p>
<p>Bounded contexts let each subdomain have its own definition without conflict. Translation layers or interfaces connect them when they need to talk.</p>
<p><img alt="Bounded Contexts" src="../../../../assets/2025-10-20-domain-driven-design-ai-agents/ddd_bounded_contexts.svg" /></p>
<p>This keeps each model lean and prevents the "one size fits all" model that becomes unwieldy as complexity grows.</p>
<h3 id="entities-and-value-objects">Entities and value objects</h3>
<p>These are the basic building blocks of your domain model. Understanding the difference is key.</p>
<p><strong>Entities</strong> have identity that persists over time. A <code>Task</code> with ID <code>123</code> is the same task even if you change its description, status, or due date. Two entities are equal if they have the same ID, regardless of their attributes.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SupportTicket</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">ticket_id</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># This is the identity</span>
    <span class="n">customer</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">issue</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;OPEN&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="s2">&quot;OPEN&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Ticket already closed&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;CLOSED&quot;</span>
</code></pre></div>
<p><strong>Value objects</strong> have no identity—they're defined entirely by their attributes. Two <code>TimeSlot</code> objects with the same start and end times are interchangeable. Value objects are immutable; instead of changing them, you create new ones.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TimeSlot</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">start</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># e.g., &quot;2025-10-18 09:00&quot;</span>
    <span class="n">end</span><span class="p">:</span> <span class="nb">str</span>    <span class="c1"># e.g., &quot;2025-10-18 10:00&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">duration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># Compute duration from start to end</span>
        <span class="o">...</span>
</code></pre></div>
<p>Use entities for things that have lifecycles (<code>Order</code>, <code>User</code>, <code>AgentSession</code>). Use value objects for descriptions and measurements (<code>EmailAddress</code>, <code>Priority</code>, <code>Location</code>).</p>
<h3 id="aggregates">Aggregates</h3>
<p>Aggregates are clusters of related entities and value objects that get treated as one unit. Think of them as consistency boundaries—within an aggregate, business rules must always hold true.</p>
<p>Every aggregate has one <strong>aggregate root</strong>—an entity that controls access to everything inside. Want to modify something in the aggregate? Go through the root. This enforces invariants and prevents invalid states.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Plan</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>  <span class="c1"># This is the aggregate root</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Task</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Business rule enforced here: no duplicate task IDs</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">task</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Task ID already exists&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</code></pre></div>
<p>External code never touches the <code>tasks</code> list directly—it always calls <code>add_task()</code>. This guarantees the "no duplicate IDs" rule can never be violated. When you save to a database, you typically save the entire aggregate at once.</p>
<h3 id="repositories">Repositories</h3>
<p>Repositories abstract away persistence. To your domain code, it feels like working with an in-memory collection—no SQL queries, no database sessions, just clean methods like <code>save()</code> and <code>get()</code>.</p>
<p>This separation has real benefits:</p>
<ul>
<li><strong>Domain logic stays clean.</strong> It doesn't care if data lives in Postgres, MongoDB, or a JSON file.</li>
<li><strong>Testing is trivial.</strong> Swap in an in-memory repository for tests without touching domain code.</li>
<li><strong>Storage can evolve.</strong> Switch from SQLite to Redis without rewriting business rules.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">abc</span><span class="w"> </span><span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Plan</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Task</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PlanRepository</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Domain layer defines the interface.&quot;&quot;&quot;</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan</span><span class="p">:</span> <span class="n">Plan</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Plan</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="o">...</span>

<span class="k">class</span><span class="w"> </span><span class="nc">InMemoryPlanRepository</span><span class="p">(</span><span class="n">PlanRepository</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Infrastructure layer provides the implementation.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Plan</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan</span><span class="p">:</span> <span class="n">Plan</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">plan</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">plan</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plan_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Plan</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">plan_id</span><span class="p">)</span>
</code></pre></div>
<p>Your domain code only knows about <code>PlanRepository</code> (the interface). The infrastructure layer plugs in the actual implementation.</p>
<h3 id="domain-events">Domain events</h3>
<p>Domain events capture important things that happen in your system. They're named in past tense—<code>OrderPlaced</code>, <code>TaskCompleted</code>, <code>PaymentFailed</code>—because they represent facts.</p>
<p>Events make implicit side effects explicit. Instead of one module directly calling another when something happens, the domain raises an event. Other parts of the system subscribe and react independently.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TaskCompleted</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">task_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">completed_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<p>When a task finishes, you emit <code>TaskCompleted</code>. A notification service might listen for this event and send an email. A reporting service might log it for analytics. The important part: the task aggregate doesn't need to know about emails or analytics. It just announces what happened.</p>
<p>This decouples workflows and makes cross-context communication clean. It's especially powerful in multi-agent systems where agents react to each other's events.</p>
<hr />
<h2 id="translating-ddd-to-agent-architectures">Translating DDD to agent architectures</h2>
<p>AI agents deal with complexity—multi-step workflows, unreliable LLM outputs, evolving requirements. DDD's patterns map surprisingly well to these challenges. Here's how the concepts translate:</p>
<h3 id="bounded-contexts-become-agents-or-skills">Bounded contexts become agents or skills</h3>
<p>Each agent (or major capability) is a bounded context. A research orchestrator might coordinate three specialized agents:</p>
<ul>
<li><strong>Trends Agent</strong> — gathers market data using its own vocabulary and tools</li>
<li><strong>Compliance Agent</strong> — runs policy checks with regulatory terminology</li>
<li><strong>Cost Agent</strong> — estimates expenses with finance-specific rules</li>
</ul>
<p>Each has its own model, terminology, and invariants. They communicate through well-defined interfaces or events.</p>
<p>Each has its own model, terminology, and invariants. They communicate through well-defined interfaces or events.</p>
<p><img alt="Agent Orchestration" src="../../../../assets/2025-10-20-domain-driven-design-ai-agents/agent_orchestration.svg" /></p>
<p>Even in a single-agent system, you might define internal contexts—a Planning module and an Execution module, each with its own domain model.</p>
<h3 id="prompts-honor-the-ubiquitous-language">Prompts honor the ubiquitous language</h3>
<p>Use domain terms in system prompts, tool descriptions, and function signatures. If compliance experts say "policy check", that exact phrase appears in your prompts and code. This keeps humans and agents synchronized and makes the system easier to review and debug.</p>
<h3 id="state-becomes-explicit-entities">State becomes explicit entities</h3>
<p>LLMs are often stateless, but complex agents maintain state—conversation sessions, goals, intermediate results, tool outputs. Model these as entities or value objects:</p>
<ul>
<li><code>ConversationSession</code> entity with ID and message history</li>
<li><code>Task</code> entity representing units of work</li>
<li><code>ToolOutput</code> value object for immutable results</li>
</ul>
<p>Explicit modeling enables validation, business rules, and reuse. You can enforce rules like "a task can't be completed until dependencies finish" directly in the entity methods.</p>
<h3 id="aggregates-express-agent-plans">Aggregates express agent plans</h3>
<p>A <code>Plan</code> aggregate root can govern task lists, enforce limits, and maintain priorities. When an LLM proposes adding 50 tasks, the aggregate enforces a maximum of 10. When it suggests duplicate work, the aggregate rejects it. This keeps AI proposals within business constraints.</p>
<h3 id="domain-events-drive-orchestration">Domain events drive orchestration</h3>
<p>Agents raise events—<code>ResearchCompleted</code>, <code>ThresholdExceeded</code>, <code>PolicyViolationDetected</code>. Other agents or services listen and react without tight coupling. This event-driven approach is the future of scalable agent systems: it lets multiple agents collaborate in real-time without being hard-wired together.</p>
<h3 id="business-rules-wrap-ai-actions">Business rules wrap AI actions</h3>
<p>LLM outputs flow through domain services or entity methods. If an LLM suggests a refund amount beyond policy limits, your <code>RefundRequest</code> value object validates and rejects it. The AI can improvise, but business rules have the final say. This keeps agents safe and aligned with policy.</p>
<h3 id="the-anti-corruption-layer-acl">The Anti-Corruption Layer (ACL)</h3>
<p>When working with LLMs, you are dealing with a probabilistic, creative, and occasionally chaotic entity. Your domain model, however, must be deterministic and safe. You cannot let the raw output of an LLM leak directly into your domain logic.</p>
<p>Enter the <strong>Anti-Corruption Layer (ACL)</strong>.</p>
<p><img alt="LLM Domain Interaction" src="../../../../assets/2025-10-20-domain-driven-design-ai-agents/llm_domain_interaction.svg" /></p>
<p>The ACL acts as a gatekeeper. It translates the "wild" output of the LLM into the "strict" language of your domain.</p>
<ol>
<li><strong>Ingest</strong>: Receive raw text or JSON from the LLM.</li>
<li><strong>Validate</strong>: Use Pydantic models to check structure and types.</li>
<li><strong>Sanitize</strong>: Ensure values fall within acceptable ranges (e.g., no negative prices).</li>
<li><strong>Translate</strong>: Convert DTOs (Data Transfer Objects) into Domain Entities.</li>
</ol>
<p>If validation fails, the ACL rejects the data—often sending an error message back to the LLM so it can correct itself. This loop ensures that <strong>only valid data ever touches your core business logic</strong>.</p>
<hr />
<h2 id="example-a-task-assistant-modeled-with-ddd">Example: a task assistant modeled with DDD</h2>
<p>Let's build a personal task assistant that handles requests like "Remind me to buy milk tomorrow" or "What's on my to-do list?" We'll apply DDD principles step by step.</p>
<h3 id="1-map-the-contexts">1. Map the contexts</h3>
<p>Start by breaking the problem into subdomains:</p>
<ul>
<li><strong>Task Management</strong> — handling to-do items and reminders (core domain)</li>
<li><strong>Scheduling</strong> — calendar events and meetings</li>
<li><strong>Notifications</strong> — sending alerts and emails</li>
</ul>
<p>We'll focus on Task Management first. The others can evolve as separate bounded contexts or companion agents.</p>
<p>We'll focus on Task Management first. The others can evolve as separate bounded contexts or companion agents.</p>
<p><img alt="Task Assistant Context Map" src="../../../../assets/2025-10-20-domain-driven-design-ai-agents/task_assistant_context_map.svg" /></p>
<h3 id="2-speak-the-same-language">2. Speak the same language</h3>
<p>Establish the vocabulary with domain experts (or just common sense for personal tasks): "task", "deadline", "reminder", "priority". Use these exact terms everywhere—prompt templates, method names, UI labels. No translation layers.</p>
<h3 id="3-capture-entities-value-objects-and-events">3. Capture entities, value objects, and events</h3>
<p>Now model the core concepts:</p>
<ul>
<li><strong>Entity:</strong> <code>Task</code> with identity (<code>id</code>) and mutable state (<code>completed</code>)</li>
<li><strong>Value object:</strong> <code>Priority</code> enum (immutable, defined by its value)</li>
<li><strong>Domain event:</strong> <code>TaskCompletedEvent</code> to signal when work finishes</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">timezone</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Priority</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Value object: priority is defined by its value alone.&quot;&quot;&quot;</span>
    <span class="n">LOW</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">NORMAL</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">HIGH</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TaskCompletedEvent</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Domain event: announces a task was completed.&quot;&quot;&quot;</span>
    <span class="n">task_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">time</span><span class="p">:</span> <span class="n">datetime</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Entity: identity persists even as attributes change.&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">))</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">date</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">priority</span><span class="p">:</span> <span class="n">Priority</span> <span class="o">=</span> <span class="n">Priority</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mark_completed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskCompletedEvent</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Business rule: can&#39;t complete an already-completed task.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Task is already completed.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">TaskCompletedEvent</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">))</span>
</code></pre></div>
<p>Notice how business rules live in the entity methods, not scattered across prompt templates.</p>
<h3 id="4-shape-the-aggregate">4. Shape the aggregate</h3>
<p>The <code>TaskList</code> is our aggregate root. It holds multiple <code>Task</code> entities and enforces consistency rules across them. All modifications go through the root's methods.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">date</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TaskList</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Aggregate root: enforces invariants across all tasks.&quot;&quot;&quot;</span>
    <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Task</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Business rule: no duplicate tasks on the same day.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">existing</span><span class="o">.</span><span class="n">description</span> <span class="o">==</span> <span class="n">task</span><span class="o">.</span><span class="n">description</span>
            <span class="ow">and</span> <span class="n">existing</span><span class="o">.</span><span class="n">due_date</span> <span class="o">==</span> <span class="n">task</span><span class="o">.</span><span class="n">due_date</span>
            <span class="k">for</span> <span class="n">existing</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A similar task on that date already exists.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pending</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Task</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Query helper: find tasks that aren&#39;t done yet.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">task</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">task</span><span class="o">.</span><span class="n">completed</span><span class="p">]</span>


<span class="n">TaskList</span><span class="o">.</span><span class="n">model_rebuild</span><span class="p">()</span>  <span class="c1"># Resolve forward references for Pydantic.</span>
</code></pre></div>
<p>External code never manipulates <code>tasks</code> directly—it always goes through <code>add_task()</code> or other root methods. This guarantees the "no duplicates" rule holds.</p>
<h3 id="5-wrap-persistence-in-a-repository">5. Wrap persistence in a repository</h3>
<p>The repository abstracts storage. Domain code doesn't know if tasks live in memory, a database, or a JSON file.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TaskList</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Task</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>


<span class="n">TaskList</span><span class="o">.</span><span class="n">model_rebuild</span><span class="p">()</span>  <span class="c1"># Resolve forward references for Pydantic.</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TaskRepository</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstracts task storage - in-memory implementation for simplicity.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TaskList</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_task_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskList</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a user&#39;s task list, or create a new empty one.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">TaskList</span><span class="p">(</span><span class="n">owner</span><span class="o">=</span><span class="n">owner</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_task_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_list</span><span class="p">:</span> <span class="n">TaskList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Persist changes to the task list.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="n">task_list</span><span class="o">.</span><span class="n">owner</span><span class="p">]</span> <span class="o">=</span> <span class="n">task_list</span>
</code></pre></div>
<p>In production, you'd swap this for a database implementation—say, using <a href="https://www.sqlalchemy.org/">SQLAlchemy</a> or Postgres—without touching the domain logic.</p>
<h3 id="6-run-the-flow">6. Run the flow</h3>
<p>Here's how everything fits together when a user makes a request:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">uuid</span><span class="w"> </span><span class="kn">import</span> <span class="n">uuid4</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">date</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TaskList</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Task</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">Task</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">existing</span><span class="o">.</span><span class="n">description</span> <span class="o">==</span> <span class="n">task</span><span class="o">.</span><span class="n">description</span>
            <span class="ow">and</span> <span class="n">existing</span><span class="o">.</span><span class="n">due_date</span> <span class="o">==</span> <span class="n">task</span><span class="o">.</span><span class="n">due_date</span>
            <span class="k">for</span> <span class="n">existing</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A similar task on that date already exists.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TaskRepository</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TaskList</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_task_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskList</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">TaskList</span><span class="p">(</span><span class="n">owner</span><span class="o">=</span><span class="n">owner</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save_task_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_list</span><span class="p">:</span> <span class="n">TaskList</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="n">task_list</span><span class="o">.</span><span class="n">owner</span><span class="p">]</span> <span class="o">=</span> <span class="n">task_list</span>


<span class="n">TaskList</span><span class="o">.</span><span class="n">model_rebuild</span><span class="p">()</span>  <span class="c1"># Resolve forward references for Pydantic.</span>


<span class="c1"># User says: &quot;Remind me to buy milk tomorrow&quot;</span>
<span class="c1"># (In reality, an LLM would parse this into structured data)</span>
<span class="n">user_input</span> <span class="o">=</span> <span class="s2">&quot;Remind me to buy milk tomorrow&quot;</span>
<span class="n">intent</span> <span class="o">=</span> <span class="s2">&quot;add_task&quot;</span>

<span class="c1"># Initialize repository</span>
<span class="n">repo</span> <span class="o">=</span> <span class="n">TaskRepository</span><span class="p">()</span>

<span class="k">if</span> <span class="n">intent</span> <span class="o">==</span> <span class="s2">&quot;add_task&quot;</span><span class="p">:</span>
    <span class="c1"># 1. Load the user&#39;s task list</span>
    <span class="n">task_list</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_task_list</span><span class="p">(</span><span class="n">owner</span><span class="o">=</span><span class="s2">&quot;User123&quot;</span><span class="p">)</span>

    <span class="c1"># 2. Create a new task entity</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">()),</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;buy milk&quot;</span><span class="p">,</span>
        <span class="n">due_date</span><span class="o">=</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># 3. Domain layer enforces business rules</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">task_list</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
        <span class="n">repo</span><span class="o">.</span><span class="n">save_task_list</span><span class="p">(</span><span class="n">task_list</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task &#39;</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&#39; added for </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">due_date</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sorry, I couldn&#39;t add that task: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Notice the separation of concerns:</p>
<ul>
<li><strong>LLM layer</strong> parses natural language into structured data (intent + parameters)</li>
<li><strong>Domain layer</strong> enforces business rules through entity methods</li>
<li><strong>Repository layer</strong> handles persistence without leaking into domain logic</li>
</ul>
<p>The LLM can be creative with parsing, but the domain ensures consistency. If the LLM tries to add a duplicate task, the aggregate root rejects it—no special-casing needed in prompts.</p>
<hr />
<h2 id="tooling-to-bring-the-model-to-life">Tooling to bring the model to life</h2>
<p>DDD doesn't require special frameworks, but certain tools make implementation smoother—especially for AI agents.</p>
<h3 id="fastapi">FastAPI</h3>
<p><a href="https://fastapi.tiangolo.com/">FastAPI</a> pairs beautifully with DDD. Use routers to separate bounded contexts (<code>/tasks</code>, <code>/schedule</code>), Pydantic models for request/response validation, and dependency injection to wire up repositories.</p>
<p>Structure your project in layers:</p>
<div class="highlight"><pre><span></span><code>project/
├── domain/          # Pure business logic (entities, aggregates, value objects)
├── application/     # Use cases and command handlers
├── infrastructure/  # Repositories, databases, external APIs
└── interface/       # FastAPI routers and HTTP contracts
</code></pre></div>
<p>This layering (sometimes called "onion architecture") keeps changes from rippling through your codebase. Swap the database? Touch only <code>infrastructure/</code>. Change the UI? Touch only <code>interface/</code>.</p>
<h3 id="pydantic-and-pydantic-ai">Pydantic and Pydantic AI</h3>
<p><a href="https://docs.pydantic.dev/latest/">Pydantic</a> enforces invariants and validates data at runtime. Use it for entities, value objects, and especially for validating LLM outputs.</p>
<p><a href="https://ai.pydantic.dev/">Pydantic AI</a> takes this further: it ensures LLM responses conform to your domain schemas. Define an <code>AddTaskCommand</code> with required fields, and Pydantic AI validates that the LLM's JSON output matches before you act on it. This brings structure to the chaotic world of AI outputs.</p>
<p>Another excellent tool is <strong><a href="https://github.com/jxnl/instructor">Instructor</a></strong>, which patches OpenAI (and other) clients to return Pydantic models directly. It's a lightweight way to implement your Anti-Corruption Layer.</p>
<h3 id="ddd-helper-libraries">DDD helper libraries</h3>
<ul>
<li><strong><a href="https://pypi.org/project/dddesign/">DDDesign</a></strong> — provides base classes for entities, repositories, and value objects built on Pydantic</li>
<li><strong><a href="https://github.com/proteanhq/protean">Protean</a></strong> — a full framework for DDD, CQRS, and event sourcing if you want something that comes with a lot of ready-made features out of the box</li>
</ul>
<p>Most Python developers skip these and use vanilla classes with Pydantic, but they're worth exploring for large projects.</p>
<h3 id="event-driven-tooling">Event-driven tooling</h3>
<p>For domain events, consider:</p>
<ul>
<li><strong><a href="https://github.com/jek/blinker">blinker</a></strong> — lightweight in-process event dispatcher</li>
<li><strong><a href="https://github.com/redis/redis-py">redis-py Pub/Sub</a></strong> or <strong><a href="https://www.rabbitmq.com/">RabbitMQ</a></strong> — for distributed events across services or agents</li>
<li><strong>asyncio event patterns</strong> — if you're already async</li>
</ul>
<p>Events are crucial for multi-agent orchestration. An agent emits <code>ResearchCompleted</code>, others react—no tight coupling.</p>
<h3 id="agent-frameworks">Agent frameworks</h3>
<p><a href="https://python.langchain.com/">LangChain</a>, <a href="https://langchain-ai.github.io/langgraph/">LangGraph</a>, <a href="https://github.com/deepset-ai/haystack">Haystack</a>, <a href="https://github.com/microsoft/semantic-kernel">Semantic Kernel</a>, <a href="https://github.com/run-llama/llama_index">LlamaIndex</a>, <a href="https://github.com/microsoft/autogen">AutoGen</a>, <a href="https://ai.google.dev/gemini-api/docs/agent-developer-kit">Google ADK</a>, <a href="https://github.com/huggingface/smolagents">smolagents</a>, and <a href="https://github.com/joaomdmoura/crewAI">CrewAI</a> provide structure for modern agent workflows. Use them within your domain layer, but wrap them in your own interfaces. That way, swapping frameworks doesn't break your business logic.</p>
<h3 id="testing">Testing</h3>
<p>One of DDD's biggest wins: your domain layer tests without the whole stack running.</p>
<ul>
<li><strong><a href="https://docs.pytest.org/en/stable/">PyTest</a></strong> for unit tests on entities and aggregates</li>
<li><strong>Fake repositories</strong> (in-memory) for integration tests</li>
<li><strong>LLM stubs</strong> that return predetermined outputs</li>
</ul>
<p>Your domain code should never require a live LLM to test. The LLM is an implementation detail—your tests validate business rules.</p>
<hr />
<h2 id="getting-started-checklist">Getting started checklist</h2>
<p>Ready to apply DDD to your next agent project? Here's your roadmap:</p>
<ol>
<li><strong>Interview domain experts.</strong> Draft the ubiquitous language—the vocabulary everyone will use. Document it.</li>
<li><strong>Map bounded contexts.</strong> Draw the subdomains and mark where they need to talk to each other. Start with one core context.</li>
<li><strong>Model entities and value objects.</strong> What things have identity? What things are just values? Bake invariants into their methods.</li>
<li><strong>Define aggregate roots.</strong> Bundle related entities under one root that enforces consistency rules.</li>
<li><strong>Create repository interfaces.</strong> Don't implement storage yet—just define <code>save()</code> and <code>get()</code> methods. Keep the domain clean.</li>
<li><strong>Emit domain events.</strong> For meaningful changes (order placed, task completed), raise events. Wire listeners later as needed.</li>
<li><strong>Wrap LLM outputs in schemas.</strong> Use Pydantic models to enforce contracts. Don't let free-form text leak into your domain.</li>
<li><strong>Add orchestration.</strong> Build application services that coordinate agents via structured commands or events.</li>
</ol>
<p>The golden rule: <strong>start with the domain, not the tech stack.</strong> Understand the business problem first. Model it explicitly. Then let the AI tooling serve that model—not the other way around.</p>







  
  




  



      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="/feed_rss_created.xml" target="_blank" rel="noopener" title="RSS" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20 5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27zm0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.toc", "navigation.toc.sticky", "navigation.toc.maxdepth", "navigation.toc.title", "navigation.toc.collapse", "navigation.toc.collapse_empty_groups", "navigation.toc.collapse_single_children", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
      
        <script src="../../../../../javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>