
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A practical, modern guide to using pyproject.toml for Python projects—covering packaging, dependencies, tool configuration, and workflows in one file.">
      
      
        <meta name="author" content="Viacheslav Dubrov">
      
      
        <link rel="canonical" href="https://slavadubrov.github.io/blog/2025/05/08/quick-guide-on-pyprojecttoml/">
      
      
        <link rel="prev" href="../../07/quick-guide-on-zprofile-vs-zshrc-/">
      
      
        <link rel="next" href="../../10/quick-guide-on-running-llms-locally-on-macos/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../../../assets/favicon-eoc.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Quick-Guide on `pyproject.toml` - Edge of Context: Tips & Tricks in Machine Learning</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/brand.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-guide-on-pyprojecttoml" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="Edge of Context: Tips &amp; Tricks in Machine Learning" class="md-header__button md-logo" aria-label="Edge of Context: Tips & Tricks in Machine Learning" data-md-component="logo">
      
  <img src="../../../../../assets/logo-eoc.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Edge of Context: Tips & Tricks in Machine Learning
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick-Guide on `pyproject.toml`
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../topics/" class="md-tabs__link">
        
  
  
    
  
  Topics

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../../../../" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Edge of Context: Tips &amp; Tricks in Machine Learning" class="md-nav__button md-logo" aria-label="Edge of Context: Tips & Tricks in Machine Learning" data-md-component="logo">
      
  <img src="../../../../../assets/logo-eoc.svg" alt="logo">

    </a>
    Edge of Context: Tips & Tricks in Machine Learning
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    <span class="md-ellipsis">
      TL;DR
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-pyprojecttoml" class="md-nav__link">
    <span class="md-ellipsis">
      What is pyproject.toml?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-should-you-care" class="md-nav__link">
    <span class="md-ellipsis">
      Why should you care?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#does-it-replace-requirementstxt" class="md-nav__link">
    <span class="md-ellipsis">
      Does it replace requirements.txt?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anatomy-of-a-pyprojecttoml" class="md-nav__link">
    <span class="md-ellipsis">
      Anatomy of a pyproject.toml
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Anatomy of a pyproject.toml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#breaking-it-down" class="md-nav__link">
    <span class="md-ellipsis">
      Breaking it down
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-environments-and-pyprojecttoml" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual environments and pyproject.toml
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-real-world-uses" class="md-nav__link">
    <span class="md-ellipsis">
      Common real-world uses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common real-world uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#packaging-and-distribution" class="md-nav__link">
    <span class="md-ellipsis">
      Packaging and distribution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependency-management" class="md-nav__link">
    <span class="md-ellipsis">
      Dependency management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-formatting" class="md-nav__link">
    <span class="md-ellipsis">
      Code formatting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Type checking
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typical-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Typical workflows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typical workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#starting-a-new-project-with-uv" class="md-nav__link">
    <span class="md-ellipsis">
      Starting a new project with uv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrating-an-existing-project" class="md-nav__link">
    <span class="md-ellipsis">
      Migrating an existing project
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Quick reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-a-different-build-backend" class="md-nav__link">
    <span class="md-ellipsis">
      Use a different build backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pin-python-version" class="md-nav__link">
    <span class="md-ellipsis">
      Pin Python version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-black" class="md-nav__link">
    <span class="md-ellipsis">
      Configure Black
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-up-test-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Set up test dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-for-legacy-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Export for legacy systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content md-content--post" data-md-component="content">
    <div class="md-sidebar md-sidebar--post" data-md-component="sidebar" data-md-type="navigation">
      <div class="md-sidebar__scrollwrap">
        <div class="md-sidebar__inner md-post">
          <nav class="md-nav md-nav--primary">
            <div class="md-post__back">
              <div class="md-nav__title md-nav__container">
                <a href="../../../../" class="md-nav__link">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
                  <span class="md-ellipsis">
                    Back to index
                  </span>
                </a>
              </div>
            </div>
            
            <ul class="md-post__meta md-nav__list">
              <li class="md-nav__item md-nav__item--section">
                <div class="md-post__title">
                  <span class="md-ellipsis">
                    Metadata
                  </span>
                </div>
                <nav class="md-nav">
                  <ul class="md-nav__list">
                    <li class="md-nav__item">
                      <div class="md-nav__link">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg>
                        <time datetime="2025-05-08 00:00:00+00:00" class="md-ellipsis">May 8, 2025</time>
                      </div>
                    </li>
                    
                      <li class="md-nav__item">
                        <div class="md-nav__link">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 13h1.5v2.82l2.44 1.41-.75 1.3L15 16.69zm4-5H5v11h4.67c-.43-.91-.67-1.93-.67-3a7 7 0 0 1 7-7c1.07 0 2.09.24 3 .67zM5 21a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1V1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v6.1c1.24 1.26 2 2.99 2 4.9a7 7 0 0 1-7 7c-1.91 0-3.64-.76-4.9-2zm11-9.85A4.85 4.85 0 0 0 11.15 16c0 2.68 2.17 4.85 4.85 4.85A4.85 4.85 0 0 0 20.85 16c0-2.68-2.17-4.85-4.85-4.85"/></svg>
                          <time datetime="2025-05-08 00:00:00+00:00" class="md-ellipsis">May 8, 2025</time>
                        </div>
                      </li>
                    
                    
                    
                  </ul>
                </nav>
              </li>
            </ul>
            
          </nav>
          
        </div>
      </div>
    </div>
    <article class="md-content__inner md-typeset">
      
        
  


  <nav class="md-tags" >
    
      
      
      
        <a href="../../../../../topics/#tag:guide" class="md-tag">guide</a>
      
    
      
      
      
        <a href="../../../../../topics/#tag:python" class="md-tag">python</a>
      
    
  </nav>



<h1 id="quick-guide-on-pyprojecttoml">Quick-Guide on <code>pyproject.toml</code></h1>
<h2 id="tldr">TL;DR</h2>
<p>Think of <code>pyproject.toml</code> as the <strong><code>package.json</code> for Python</strong>. It's a single configuration file that holds your project's metadata, dependencies, and tool settings. Whether you use <code>.venv</code>, <code>pyenv</code>, or <code>uv</code>, this one file simplifies development and makes collaboration smoother.</p>
<!-- more -->

<h2 id="what-is-pyprojecttoml">What is <code>pyproject.toml</code>?</h2>
<p><code>pyproject.toml</code> is a standardized configuration file that lives at the root of your Python project. It uses the TOML format (think INI files but better) and is backed by official Python Enhancement Proposals (PEPs).</p>
<p>The file evolved in two key stages:</p>
<ul>
<li><strong><a href="https://peps.python.org/pep-0518/">PEP 518</a></strong> (2016) introduced the <code>[build-system]</code> table so build tools could declare their requirements in a standard way.</li>
<li><strong><a href="https://peps.python.org/pep-0621/">PEP 621</a></strong> (2020) added the <code>[project]</code> table for core package metadata—name, version, dependencies, and more.</li>
</ul>
<p>Today, most Python developer tools (Black, isort, pytest, Ruff, mypy) read their configuration from <code>[tool.*]</code> sections in this file, making it the central hub for your entire project setup.</p>
<pre class="mermaid"><code>graph TD
    A[pyproject.toml] --&gt; B[build-system]
    A --&gt; C[project]
    A --&gt; D[tool.*]

    B --&gt; B1[Build requirements]
    B --&gt; B2[Build backend]

    C --&gt; C1[Metadata name, version]
    C --&gt; C2[Dependencies]
    C --&gt; C3[Optional dependencies]

    D --&gt; D1[Black formatter]
    D --&gt; D2[pytest]
    D --&gt; D3[mypy type checker]
    D --&gt; D4[Other tools]</code></pre>
<h2 id="why-should-you-care">Why should you care?</h2>
<p><strong>One file to rule them all</strong><br />
Before <code>pyproject.toml</code>, you'd juggle <code>setup.py</code>, <code>setup.cfg</code>, <code>requirements.txt</code>, <code>MANIFEST.in</code>, and various dotfiles. Now everything lives in one place.</p>
<p><strong>Backend-agnostic builds</strong><br />
When you run <code>pip install .</code>, pip reads <code>pyproject.toml</code> and automatically installs whatever build tools your project needs (setuptools, flit, hatchling, etc.).</p>
<p><strong>Universal tool configuration</strong><br />
Linters, formatters, test runners, and type checkers all know to look here for their settings. Your IDE, CI pipeline, and teammates all read from the same source of truth.</p>
<h2 id="does-it-replace-requirementstxt">Does it replace <code>requirements.txt</code>?</h2>
<p><strong>In modern workflows, yes.</strong> Tools like <a href="https://python-poetry.org/">Poetry</a>, <a href="https://pdm-project.org/">PDM</a>, <a href="https://hatch.pypa.io/">Hatch</a>, and <a href="https://github.com/astral-sh/uv">uv</a> store dependencies directly in the <code>[project]</code> section and generate lockfiles for reproducibility.</p>
<p>You only need <code>requirements.txt</code> if:</p>
<ul>
<li>You're working with legacy deployment systems that expect it</li>
<li>You have simple CI scripts that haven't been updated</li>
<li>You need to share a flat dependency list with someone not using modern tools</li>
</ul>
<p>Most modern tools can export a <code>requirements.txt</code> from your <code>pyproject.toml</code> when needed (e.g., <code>uv export &gt; requirements.txt</code>).</p>
<h2 id="anatomy-of-a-pyprojecttoml">Anatomy of a <code>pyproject.toml</code></h2>
<p>Here's what a typical file looks like with the three main sections:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span>
<span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1"># 1. Build system - tells pip/build how to package your project</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="k">[build-system]</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="n">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;setuptools&gt;=69&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;wheel&quot;</span><span class="p">]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;setuptools.build_meta&quot;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="c1"># 2. Project metadata and dependencies</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="k">[project]</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;awesome-app&quot;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0.1.0&quot;</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Short demo of pyproject.toml&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="n">readme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;README.md&quot;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="n">requires-python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&gt;=3.12&quot;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">  </span><span class="s2">&quot;fastapi&gt;=0.111&quot;</span><span class="p">,</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">  </span><span class="s2">&quot;uvicorn[standard]&gt;=0.30&quot;</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="p">]</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="c1"># Optional dependencies (e.g., for development)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="k">[project.optional-dependencies]</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;pytest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ruff&quot;</span><span class="p">]</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="c1"># 3. Tool configuration</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="k">[tool.black]</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="n">line-length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="n">target-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;py312&quot;</span><span class="p">]</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="k">[tool.isort]</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;black&quot;</span>
</code></pre></div></td></tr></table></div>
<h3 id="breaking-it-down">Breaking it down</h3>
<p><strong><code>[build-system]</code></strong> - Required if you want to package/distribute your project. Tells pip and build tools (like <code>python -m build</code>) which backend to use.</p>
<p><strong><code>[project]</code></strong> - Your package metadata. This is where dependencies live instead of <code>requirements.txt</code>. The <code>optional-dependencies</code> section is perfect for dev tools that users don't need.</p>
<p><strong><code>[tool.*]</code></strong> - Configuration for any tool that supports it. Each tool gets its own namespace (e.g., <code>[tool.pytest.ini_options]</code>, <code>[tool.mypy]</code>).</p>
<h2 id="virtual-environments-and-pyprojecttoml">Virtual environments and <code>pyproject.toml</code></h2>
<p>Important: <code>pyproject.toml</code> <strong>declares what to install</strong>, but it doesn't create virtual environments. You still need a separate tool for that.</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Create venv</th>
<th>Install from <code>pyproject.toml</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Plain Python</td>
<td><code>python -m venv .venv</code></td>
<td><code>pip install -e .</code> (manual)</td>
</tr>
<tr>
<td>pyenv</td>
<td><code>pyenv virtualenv 3.12.2 env</code></td>
<td><code>pip install -e .</code> (after activating)</td>
</tr>
<tr>
<td>uv</td>
<td><code>uv venv</code> or automatic</td>
<td><code>uv sync</code> (fast and automatic)</td>
</tr>
</tbody>
</table>
<p>The modern approach with <code>uv</code> is seamless—it reads <code>pyproject.toml</code>, manages the venv, and keeps everything in sync with one command.</p>
<h2 id="common-real-world-uses">Common real-world uses</h2>
<p>Here's how teams actually use <code>pyproject.toml</code> day-to-day:</p>
<h3 id="packaging-and-distribution">Packaging and distribution</h3>
<p><strong>Section:</strong> <code>[project]</code> + <code>[build-system]</code><br />
<strong>Tools:</strong> <code>build</code>, <code>twine</code>, <code>uv</code></p>
<p>Build a wheel with <code>python -m build</code>, then publish with <code>twine upload dist/*</code> or <code>uv publish</code>. All metadata comes from your <code>[project]</code> section—no separate <code>setup.py</code> needed.</p>
<h3 id="dependency-management">Dependency management</h3>
<p><strong>Section:</strong> <code>[project.dependencies]</code> + lockfile<br />
<strong>Tools:</strong> Poetry, PDM, uv</p>
<p>Modern tools read your dependencies from <code>[project]</code>, resolve them, and create a lockfile. Running <code>uv sync</code> gives you reproducible installs across machines in seconds.</p>
<h3 id="code-formatting">Code formatting</h3>
<p><strong>Section:</strong> <code>[tool.black]</code>, <code>[tool.ruff]</code><br />
<strong>Tools:</strong> <a href="https://black.readthedocs.io/">Black</a>, <a href="https://docs.astral.sh/ruff/">Ruff</a></p>
<p>Your formatter settings live in the repo. CI, pre-commit hooks, and IDE plugins all read the same config—no more "works on my machine" formatting issues.</p>
<h3 id="testing">Testing</h3>
<p><strong>Section:</strong> <code>[tool.pytest.ini_options]</code><br />
<strong>Tool:</strong> <a href="https://docs.pytest.org/">pytest</a></p>
<p>Configure test discovery, markers, and coverage settings. Replaces the old <code>pytest.ini</code> or <code>setup.cfg</code> approach.</p>
<h3 id="type-checking">Type checking</h3>
<p><strong>Section:</strong> <code>[tool.mypy]</code><br />
<strong>Tool:</strong> <a href="https://mypy-lang.org/">mypy</a></p>
<p>Optional but handy if you want all config in one place instead of maintaining a separate <code>mypy.ini</code>.</p>
<h2 id="typical-workflows">Typical workflows</h2>
<h3 id="starting-a-new-project-with-uv">Starting a new project with <code>uv</code></h3>
<p>This is the smoothest path for new projects:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>uv<span class="w"> </span>init<span class="w"> </span>my_app<span class="w">          </span><span class="c1"># creates folder with pyproject.toml and .venv</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nb">cd</span><span class="w"> </span>my_app
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>uv<span class="w"> </span>add<span class="w"> </span>requests<span class="w"> </span>fastapi<span class="w"> </span><span class="c1"># adds to [project.dependencies] and installs</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w">           </span><span class="c1"># runs tests in the venv</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>uv<span class="w"> </span>build<span class="w">                </span><span class="c1"># builds wheel/sdist for distribution</span>
</code></pre></div></td></tr></table></div>
<p>Everything stays in sync automatically—no manual venv management needed.</p>
<h3 id="migrating-an-existing-project">Migrating an existing project</h3>
<p>If you have a legacy Python project, here's how to modernize it:</p>
<pre class="mermaid"><code>graph LR
    A[Old setup.py] --&gt; B[Add build-system]
    B --&gt; C[Move to project]
    C --&gt; D[Convert dev deps]
    D --&gt; E[Add tool config]
    E --&gt; F[Modern pyproject.toml]

    style A fill:#ffcccc
    style F fill:#ccffcc</code></pre>
<p><strong>Step-by-step:</strong></p>
<ol>
<li><strong>Add <code>[build-system]</code></strong> - Start with setuptools if you're not sure: <code>requires = ["setuptools&gt;=61", "wheel"]</code></li>
<li><strong>Move to <code>[project]</code></strong> - Transfer name, version, dependencies from <code>setup.py</code> or <code>setup.cfg</code></li>
<li><strong>Convert dev dependencies</strong> - Put them in <code>[project.optional-dependencies].dev</code></li>
<li><strong>Configure tools</strong> - Add <code>[tool.*]</code> sections for Black, pytest, mypy, etc.</li>
<li><strong>Handle <code>requirements.txt</code></strong> - Either drop it or generate it from lockfile for legacy systems</li>
</ol>
<p>After migration, you can delete <code>setup.py</code>, <code>setup.cfg</code>, and most config dotfiles.</p>
<h2 id="quick-reference">Quick reference</h2>
<p>Need to do something specific? Here are common patterns:</p>
<h3 id="use-a-different-build-backend">Use a different build backend</h3>
<p><strong>Flit</strong> (simpler than setuptools):
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">[build-system]</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="n">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;flit_core&gt;=3.2&quot;</span><span class="p">]</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;flit_core.buildapi&quot;</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Hatchling</strong> (modern and fast):
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">[build-system]</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="n">requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;hatchling&quot;</span><span class="p">]</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="n">build-backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hatchling.build&quot;</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="pin-python-version">Pin Python version</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">[project]</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="n">requires-python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&gt;=3.12&quot;</span>
</code></pre></div></td></tr></table></div>
<p>This ensures users (and deployment systems) know your minimum Python version.</p>
<h3 id="configure-black">Configure Black</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">[tool.black]</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="n">line-length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">88</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="n">target-version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;py312&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<h3 id="set-up-test-dependencies">Set up test dependencies</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">[project.optional-dependencies]</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="n">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;pytest&gt;=8.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;coverage&gt;=7.0&quot;</span><span class="p">]</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;pytest&gt;=8.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;black&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ruff&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;mypy&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p>Install with <code>pip install -e ".[test]"</code> or <code>uv sync --extra test</code>.</p>
<h3 id="export-for-legacy-systems">Export for legacy systems</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>uv<span class="w"> </span><span class="nb">export</span><span class="w"> </span>&gt;<span class="w"> </span>requirements.txt<span class="w">          </span><span class="c1"># everything</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>uv<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--only-deps<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt<span class="w">  </span><span class="c1"># without project itself</span>
</code></pre></div></td></tr></table></div>
<hr />
<p><strong>Bottom line:</strong> <code>pyproject.toml</code> brings Python's project setup into the modern era. Whether you're packaging a library, managing dependencies, or configuring tools, this one file is your command center. Start with <code>uv</code> for the smoothest experience, or integrate it into your existing workflow gradually.</p>
<hr />







  
  




  



      
    </article>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="/feed_rss_created.xml" target="_blank" rel="noopener" title="RSS" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20 5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27zm0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.toc", "navigation.toc.sticky", "navigation.toc.maxdepth", "navigation.toc.title", "navigation.toc.collapse", "navigation.toc.collapse_empty_groups", "navigation.toc.collapse_single_children", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../../javascripts/mermaid.js"></script>
      
    
  </body>
</html>