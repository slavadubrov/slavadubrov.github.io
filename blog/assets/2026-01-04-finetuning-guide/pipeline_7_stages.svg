<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="stageGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#667eea"/>
      <stop offset="100%" stop-color="#764ba2"/>
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#667eea"/>
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="500" fill="#fafafa"/>

  <!-- Title -->
  <text x="450" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="22" font-weight="600" text-anchor="middle" fill="#1a202c">The 7-Stage Fine-Tuning Lifecycle</text>

  <!-- Stage boxes - Row 1 -->
  <g transform="translate(50, 70)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">1. Data Preparation</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">Clean, deduplicate, format</text>
  </g>

  <path d="M 210 102 L 240 102" stroke="#667eea" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <g transform="translate(250, 70)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">2. Model Selection</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">Choose base model, load</text>
  </g>

  <path d="M 410 102 L 440 102" stroke="#667eea" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <g transform="translate(450, 70)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">3. Training Setup</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">Configure hardware, params</text>
  </g>

  <path d="M 610 102 L 640 102" stroke="#667eea" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <g transform="translate(650, 70)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">4. Fine-Tuning</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">SFT, DPO, or ORPO</text>
  </g>

  <!-- Arrow down -->
  <path d="M 730 135 L 730 170" stroke="#667eea" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <!-- Stage boxes - Row 2 -->
  <g transform="translate(650, 180)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">5. Evaluation</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">Benchmark, validate</text>
  </g>

  <path d="M 650 212 L 620 212" stroke="#667eea" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <g transform="translate(450, 180)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">6. Deployment</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">Export, serve model</text>
  </g>

  <path d="M 450 212 L 420 212" stroke="#667eea" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

  <g transform="translate(250, 180)">
    <rect width="160" height="65" rx="8" fill="url(#stageGrad)"/>
    <text x="80" y="28" font-family="system-ui, sans-serif" font-size="13" font-weight="600" text-anchor="middle" fill="white">7. Monitoring</text>
    <text x="80" y="46" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle" fill="rgba(255,255,255,0.9)">Track, maintain, iterate</text>
  </g>

  <!-- Feedback loop -->
  <path d="M 250 212 L 130 212 L 130 135" stroke="#f59e0b" stroke-width="2" stroke-dasharray="6,3" fill="none" marker-end="url(#arrowhead-orange)"/>
  <text x="130" y="175" font-family="system-ui, sans-serif" font-size="9" text-anchor="middle" fill="#d97706">Iterate</text>

  <!-- Key insight box -->
  <rect x="50" y="290" width="800" height="90" rx="8" fill="#f0fdf4" stroke="#10b981" stroke-width="1.5"/>
  <text x="70" y="320" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#065f46">Key Insight: Data is Destiny</text>
  <text x="70" y="345" font-family="system-ui, sans-serif" font-size="12" fill="#047857">• Stage 1 (Data Preparation) is the highest leverage step — quality over quantity</text>
  <text x="70" y="365" font-family="system-ui, sans-serif" font-size="12" fill="#047857">• 500-1,000 carefully curated examples often outperform 50,000 noisy ones</text>

  <!-- Stage highlight -->
  <rect x="46" y="66" width="168" height="73" rx="10" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="130" y="155" font-family="system-ui, sans-serif" font-size="9" font-weight="600" text-anchor="middle" fill="#10b981">HIGHEST LEVERAGE</text>
</svg>
