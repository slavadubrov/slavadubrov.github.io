<?xml version='1.0' encoding='utf-8'?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 400">
    <style>
        .bg { fill: #1e1e1e; }
        .title { fill: #f8fafc; font-family: sans-serif; font-size: 20px; font-weight: bold; text-anchor: middle; }
        .subtitle { fill: #94a3b8; font-family: sans-serif; font-size: 12px; text-anchor: middle; }
        .box { rx: 8; ry: 8; }
        .box-title { fill: #f8fafc; font-family: sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
        .box-text { fill: #cbd5e1; font-family: sans-serif; font-size: 11px; text-anchor: middle; }
        .metric { fill: #fde047; font-family: sans-serif; font-size: 20px; font-weight: bold; text-anchor: middle; }
        .metric-label { fill: #94a3b8; font-family: sans-serif; font-size: 10px; text-anchor: middle; }
        .arrow { stroke: #64748b; stroke-width: 2; fill: none; marker-end: url(#arrow); }
        .best { fill: #22c55e; font-family: sans-serif; font-size: 10px; font-weight: bold; text-anchor: middle; }
    </style>
    <defs>
        <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
        </marker>
    </defs>

    <rect width="100%" height="100%" class="bg" />

    <text x="450" y="35" class="title">Context Compression Strategies</text>
    <text x="450" y="55" class="subtitle">Optimize for tokens-per-task, not tokens-per-request</text>

    <!-- Strategy 1: Anchored Iterative -->
    <g transform="translate(50, 90)">
        <rect x="0" y="0" width="250" height="260" class="box" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" />
        <text x="125" y="30" class="box-title">Anchored Iterative</text>
        <text x="125" y="50" class="box-title">Summarization</text>

        <line x1="20" y1="65" x2="230" y2="65" stroke="#3b82f6" stroke-width="1" opacity="0.5" />

        <text x="125" y="90" class="box-text">Maintain structured summaries</text>
        <text x="125" y="105" class="box-text">with explicit sections</text>
        <text x="125" y="130" class="box-text">Merge incrementally on</text>
        <text x="125" y="145" class="box-text">each compression cycle</text>

        <!-- Metrics -->
        <rect x="20" y="165" width="95" height="50" rx="6" ry="6" fill="#2d2d2d" stroke="#475569" />
        <text x="67" y="190" class="metric">98.6%</text>
        <text x="67" y="205" class="metric-label">Compression</text>

        <rect x="135" y="165" width="95" height="50" rx="6" ry="6" fill="#2d2d2d" stroke="#475569" />
        <text x="182" y="190" class="metric">3.70</text>
        <text x="182" y="205" class="metric-label">Quality</text>

        <text x="125" y="235" class="best">✓ BEST FOR FILE TRACKING</text>
        <text x="125" y="250" class="box-text">Long coding sessions</text>
    </g>

    <!-- Strategy 2: Regenerative -->
    <g transform="translate(325, 90)">
        <rect x="0" y="0" width="250" height="260" class="box" fill="#2e1e3f" stroke="#a855f7" stroke-width="2" />
        <text x="125" y="30" class="box-title">Regenerative</text>
        <text x="125" y="50" class="box-title">Full Summary</text>

        <line x1="20" y1="65" x2="230" y2="65" stroke="#a855f7" stroke-width="1" opacity="0.5" />

        <text x="125" y="90" class="box-text">Generate detailed summary</text>
        <text x="125" y="105" class="box-text">on each compression</text>
        <text x="125" y="130" class="box-text">Full context review</text>
        <text x="125" y="145" class="box-text">each cycle</text>

        <!-- Metrics -->
        <rect x="20" y="165" width="95" height="50" rx="6" ry="6" fill="#2d2d2d" stroke="#475569" />
        <text x="67" y="190" class="metric">98.7%</text>
        <text x="67" y="205" class="metric-label">Compression</text>

        <rect x="135" y="165" width="95" height="50" rx="6" ry="6" fill="#2d2d2d" stroke="#475569" />
        <text x="182" y="190" class="metric">3.44</text>
        <text x="182" y="205" class="metric-label">Quality</text>

        <text x="125" y="235" class="best">✓ BEST FOR READABILITY</text>
        <text x="125" y="250" class="box-text">Clear phase boundaries</text>
    </g>

    <!-- Strategy 3: Opaque -->
    <g transform="translate(600, 90)">
        <rect x="0" y="0" width="250" height="260" class="box" fill="#3f3d1e" stroke="#eab308" stroke-width="2" />
        <text x="125" y="30" class="box-title">Opaque</text>
        <text x="125" y="50" class="box-title">Compression</text>

        <line x1="20" y1="65" x2="230" y2="65" stroke="#eab308" stroke-width="1" opacity="0.5" />

        <text x="125" y="90" class="box-text">Compressed representation</text>
        <text x="125" y="105" class="box-text">optimized for reconstruction</text>
        <text x="125" y="130" class="box-text">Sacrifices interpretability</text>
        <text x="125" y="145" class="box-text">for maximum savings</text>

        <!-- Metrics -->
        <rect x="20" y="165" width="95" height="50" rx="6" ry="6" fill="#2d2d2d" stroke="#475569" />
        <text x="67" y="190" class="metric">99.3%</text>
        <text x="67" y="205" class="metric-label">Compression</text>

        <rect x="135" y="165" width="95" height="50" rx="6" ry="6" fill="#2d2d2d" stroke="#475569" />
        <text x="182" y="190" class="metric">3.35</text>
        <text x="182" y="205" class="metric-label">Quality</text>

        <text x="125" y="235" class="best">✓ BEST FOR MAX SAVINGS</text>
        <text x="125" y="250" class="box-text">Short sessions, low refetch</text>
    </g>

    <!-- Bottom insight -->
    <rect x="200" y="365" width="500" height="30" rx="6" ry="6" fill="#1e293b" stroke="#475569" />
    <text x="450" y="385" class="box-text" style="fill: #fde047;">Key Insight: 0.7% more tokens retained → 0.35 quality points gained</text>
</svg>
