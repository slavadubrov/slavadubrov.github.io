<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 480">
  <defs>
    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e8e8e8" stroke-width="0.5"/>
    </pattern>
  </defs>

  <!-- Background -->
  <rect width="900" height="480" fill="#fafafa"/>
  <rect width="900" height="480" fill="url(#grid)"/>

  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="26" font-weight="700">The Solution: Manifold-Constrained</text>
  <text x="450" y="72" text-anchor="middle" fill="#f97316" font-family="system-ui" font-size="26" font-weight="700">Hyper-Connections (mHC)</text>
  <text x="450" y="100" text-anchor="middle" fill="#64748b" font-family="system-ui" font-size="14">Projecting the mixing matrices onto the Birkhoff Polytope.</text>

  <!-- Matrix container with shadow effect -->
  <rect x="250" y="135" width="400" height="230" rx="8" fill="white" stroke="#1a365d" stroke-width="2"/>

  <!-- Matrix grid -->
  <line x1="350" y1="135" x2="350" y2="365" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="450" y1="135" x2="450" y2="365" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="550" y1="135" x2="550" y2="365" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="250" y1="192" x2="650" y2="192" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="250" y1="249" x2="650" y2="249" stroke="#e2e8f0" stroke-width="1"/>
  <line x1="250" y1="308" x2="650" y2="308" stroke="#e2e8f0" stroke-width="1"/>

  <!-- Matrix values -->
  <text x="300" y="172" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₁₁</text>
  <text x="400" y="172" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₁₂</text>
  <text x="500" y="172" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₁₃</text>
  <text x="600" y="172" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₁₄</text>

  <text x="300" y="229" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₂₁</text>
  <text x="400" y="229" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₂₂</text>
  <text x="500" y="229" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₂₃</text>
  <text x="600" y="229" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₂₄</text>

  <text x="300" y="287" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₃₁</text>
  <text x="400" y="287" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₃₂</text>
  <text x="500" y="287" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₃₃</text>
  <text x="600" y="287" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₃₄</text>

  <text x="300" y="345" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₄₁</text>
  <text x="400" y="345" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₄₂</text>
  <text x="500" y="345" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₄₃</text>
  <text x="600" y="345" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="18" font-weight="500">W₄₄</text>

  <!-- All elements > 0 badge -->
  <rect x="380" y="240" width="140" height="28" rx="14" fill="#f97316"/>
  <text x="450" y="259" text-anchor="middle" fill="white" font-family="system-ui" font-size="13" font-weight="600">All elements &gt; 0</text>

  <!-- Constraints on left side -->
  <g transform="translate(20, 150)">
    <text x="0" y="0" text-anchor="start" fill="#f97316" font-family="system-ui" font-size="14" font-weight="500">Constraint 1:</text>
    <text x="0" y="18" text-anchor="start" fill="#f97316" font-family="system-ui" font-size="14" font-weight="500">Positivity</text>
    <text x="0" y="38" text-anchor="start" fill="#64748b" font-family="system-ui" font-size="11">Prevents oscillation.</text>
  </g>

  <g transform="translate(20, 220)">
    <text x="0" y="0" text-anchor="start" fill="#f97316" font-family="system-ui" font-size="14" font-weight="500">Constraint 2:</text>
    <text x="0" y="18" text-anchor="start" fill="#f97316" font-family="system-ui" font-size="14" font-weight="500">Row Sum = 1</text>
    <text x="0" y="38" text-anchor="start" fill="#64748b" font-family="system-ui" font-size="11">Normalizes output</text>
    <text x="0" y="52" text-anchor="start" fill="#64748b" font-family="system-ui" font-size="11">contribution.</text>
  </g>

  <g transform="translate(20, 310)">
    <text x="0" y="0" text-anchor="start" fill="#f97316" font-family="system-ui" font-size="14" font-weight="500">Constraint 3:</text>
    <text x="0" y="18" text-anchor="start" fill="#f97316" font-family="system-ui" font-size="14" font-weight="500">Column Sum = 1</text>
    <text x="0" y="38" text-anchor="start" fill="#64748b" font-family="system-ui" font-size="11">Normalizes input</text>
    <text x="0" y="52" text-anchor="start" fill="#64748b" font-family="system-ui" font-size="11">distribution.</text>
  </g>

  <!-- Row sum arrows -->
  <g stroke="#f97316" stroke-width="2" fill="#f97316">
    <line x1="655" y1="163" x2="673" y2="163"/>
    <polygon points="678,163 668,158 668,168"/>
    <text x="688" y="168" text-anchor="start" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>

    <line x1="655" y1="220" x2="673" y2="220"/>
    <polygon points="678,220 668,215 668,225"/>
    <text x="688" y="225" text-anchor="start" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>

    <line x1="655" y1="278" x2="673" y2="278"/>
    <polygon points="678,278 668,273 668,283"/>
    <text x="688" y="283" text-anchor="start" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>

    <line x1="655" y1="336" x2="673" y2="336"/>
    <polygon points="678,336 668,331 668,341"/>
    <text x="688" y="341" text-anchor="start" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>
  </g>

  <!-- Column sum arrows -->
  <g stroke="#f97316" stroke-width="2" fill="#f97316">
    <line x1="300" y1="370" x2="300" y2="388"/>
    <polygon points="300,393 295,383 305,383"/>
    <text x="300" y="415" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>

    <line x1="400" y1="370" x2="400" y2="388"/>
    <polygon points="400,393 395,383 405,383"/>
    <text x="400" y="415" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>

    <line x1="500" y1="370" x2="500" y2="388"/>
    <polygon points="500,393 495,383 505,383"/>
    <text x="500" y="415" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>

    <line x1="600" y1="370" x2="600" y2="388"/>
    <polygon points="600,393 595,383 605,383"/>
    <text x="600" y="415" text-anchor="middle" fill="#1a365d" font-family="system-ui" font-size="14" font-weight="200">Σ = 1</text>
  </g>

  <!-- Outcome box -->
  <rect x="200" y="440" width="500" height="32" rx="6" fill="#1a365d"/>
  <text x="450" y="462" text-anchor="middle" fill="white" font-family="system-ui" font-size="14" font-weight="500">Outcome: Energy In = Energy Out. Signal magnitude is preserved.</text>
</svg>
