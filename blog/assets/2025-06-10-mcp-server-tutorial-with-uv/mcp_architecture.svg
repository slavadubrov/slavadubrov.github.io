<?xml version='1.0' encoding='utf-8'?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">

  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0f4f8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d9e2ec;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#bbdefb;stop-opacity:1" />
    </linearGradient>
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
      <feOffset dx="2" dy="2" result="offsetblur" />
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3" />
      </feComponentTransfer>
      <feMerge>
        <feMergeNode />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <rect width="100%" height="100%" fill="white" />
  <rect width="800" height="400" fill="#ffffff" rx="10" ry="10" />

  <!-- User Icon (Improved) -->
  <g transform="translate(50, 150)">
    <circle cx="40" cy="30" r="15" fill="#ffcc80" stroke="#e65100" stroke-width="2" />
    <path d="M 15 70 Q 40 45 65 70 L 65 80 L 15 80 Z" fill="#ffcc80" stroke="#e65100" stroke-width="2" />
    <text x="40" y="100" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">User</text>
  </g>

  <!-- Arrow: User -> Claude Desktop -->
  <line x1="130" y1="190" x2="220" y2="190" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="175" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Prompts</text>

  <!-- Claude Desktop Box -->
  <g transform="translate(220, 100)">
    <rect width="160" height="180" rx="10" ry="10" fill="url(#grad2)" stroke="#1565c0" stroke-width="2" filter="url(#dropShadow)" />
    <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#0d47a1">Claude Desktop</text>
    <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#0d47a1">(MCP Client)</text>

    <rect x="20" y="70" width="120" height="40" rx="5" ry="5" fill="#fff" stroke="#1565c0" stroke-dasharray="4" />
    <text x="80" y="95" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">LLM Reasoning</text>

    <rect x="20" y="120" width="120" height="40" rx="5" ry="5" fill="#fff" stroke="#1565c0" stroke-dasharray="4" />
    <text x="80" y="145" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Tool Execution</text>
  </g>

  <!-- Arrow: Claude Desktop -> FeatureStoreLite -->
  <line x1="380" y1="190" x2="470" y2="190" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="425" y="170" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">MCP Protocol</text>
  <text x="425" y="185" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">(Stdio / SSE)</text>

  <!-- FeatureStoreLite Box (Expanded to fit content) -->
  <g transform="translate(470, 90)"> <!-- Moved up slightly and increased height -->
    <rect width="160" height="200" rx="10" ry="10" fill="url(#grad1)" stroke="#455a64" stroke-width="2" filter="url(#dropShadow)" />
    <text x="80" y="30" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#263238">FeatureStoreLite</text>
    <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#263238">(MCP Server)</text>

    <rect x="20" y="70" width="120" height="30" rx="5" ry="5" fill="#fff" stroke="#455a64" />
    <text x="80" y="90" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">store_feature</text>

    <rect x="20" y="110" width="120" height="30" rx="5" ry="5" fill="#fff" stroke="#455a64" />
    <text x="80" y="130" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">get_feature</text>

    <rect x="20" y="150" width="120" height="30" rx="5" ry="5" fill="#fff" stroke="#455a64" />
    <text x="80" y="170" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">list_features</text>
  </g>

  <!-- Arrow: FeatureStoreLite -> SQLite -->
  <line x1="630" y1="190" x2="700" y2="190" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="665" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">SQL</text>

  <!-- SQLite Database (Standard Cylinder) -->
  <g transform="translate(700, 140)">
    <!-- Bottom Ellipse (Background) -->
    <ellipse cx="40" cy="85" rx="40" ry="10" fill="#eee" stroke="#333" stroke-width="2" />
    <!-- Body -->
    <path d="M0 15 L0 85 A40 10 0 0 0 80 85 L80 15" fill="#fff" stroke="#333" stroke-width="2" />
    <!-- Top Ellipse -->
    <ellipse cx="40" cy="15" rx="40" ry="10" fill="#eee" stroke="#333" stroke-width="2" />

    <text x="40" y="55" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-weight="bold">SQLite</text>
    <text x="40" y="70" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">features.db</text>
  </g>

</svg>
