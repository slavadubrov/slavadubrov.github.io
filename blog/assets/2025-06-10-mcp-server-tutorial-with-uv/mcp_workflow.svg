<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <!-- Definitions -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#ffffff" rx="10" ry="10"/>

  <!-- Lifelines -->
  <line x1="150" y1="80" x2="150" y2="450" stroke="#999" stroke-dasharray="5,5"/>
  <line x1="400" y1="80" x2="400" y2="450" stroke="#999" stroke-dasharray="5,5"/>
  <line x1="650" y1="80" x2="650" y2="450" stroke="#999" stroke-dasharray="5,5"/>

  <!-- Actors/Components -->
  <g transform="translate(100, 30)">
    <rect width="100" height="50" rx="5" ry="5" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
    <text x="50" y="30" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">Claude</text>
  </g>

  <g transform="translate(350, 30)">
    <rect width="100" height="50" rx="5" ry="5" fill="#f0f4f8" stroke="#455a64" stroke-width="2"/>
    <text x="50" y="30" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">MCP Server</text>
  </g>

  <g transform="translate(600, 30)">
    <rect width="100" height="50" rx="5" ry="5" fill="#fff3e0" stroke="#e65100" stroke-width="2"/>
    <text x="50" y="30" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">SQLite DB</text>
  </g>

  <!-- Sequence 1: List Tools -->
  <text x="275" y="110" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">1. Initialize / List Tools</text>
  <line x1="150" y1="120" x2="400" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <text x="275" y="150" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">2. Return Tool Definitions</text>
  <line x1="400" y1="160" x2="150" y2="160" stroke="#333" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>

  <!-- Sequence 2: Call Tool -->
  <rect x="50" y="190" width="150" height="30" rx="5" ry="5" fill="#fff9c4" stroke="#fbc02d"/>
  <text x="125" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">User: "Get feature X"</text>

  <text x="275" y="240" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3. Call Tool: get_feature(key="X")</text>
  <line x1="150" y1="250" x2="400" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- DB Query -->
  <text x="525" y="280" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">4. SELECT * FROM features...</text>
  <line x1="400" y1="290" x2="650" y2="290" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <text x="525" y="320" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">5. Return Row Data</text>
  <line x1="650" y1="330" x2="400" y2="330" stroke="#333" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>

  <!-- Tool Result -->
  <text x="275" y="360" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">6. Return JSON Result</text>
  <line x1="400" y1="370" x2="150" y2="370" stroke="#333" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>

  <!-- Final Response -->
  <rect x="50" y="400" width="200" height="30" rx="5" ry="5" fill="#e8f5e9" stroke="#2e7d32"/>
  <text x="150" y="420" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Claude: "Here is feature X..."</text>

</svg>
