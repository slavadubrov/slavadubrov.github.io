<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrowL" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#555"/>
    </marker>
    <filter id="shadowL" x="-2%" y="-2%" width="104%" height="108%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="400" y="28" text-anchor="middle" font-size="18" font-weight="700" fill="#1a1a2e">LLM Reranking: Pointwise vs. Listwise</text>

  <!-- Left: Pointwise -->
  <rect x="30" y="50" width="340" height="330" rx="10" fill="#f9fafb" stroke="#ddd" stroke-width="1"/>
  <text x="200" y="78" text-anchor="middle" font-size="14" font-weight="700" fill="#e65100">Pointwise Scoring</text>
  <text x="200" y="96" text-anchor="middle" font-size="11" fill="#666">Score each document independently</text>

  <!-- Three scoring boxes -->
  <rect x="55" y="115" width="290" height="42" rx="6" fill="#fff3e0" stroke="#e65100" stroke-width="1" filter="url(#shadowL)"/>
  <text x="70" y="133" font-size="11" fill="#333">Query + Doc A</text>
  <text x="70" y="148" font-size="10" fill="#666">LLM call 1</text>
  <text x="320" y="141" text-anchor="end" font-size="14" font-weight="700" fill="#e65100">0.8</text>

  <rect x="55" y="167" width="290" height="42" rx="6" fill="#fff3e0" stroke="#e65100" stroke-width="1" filter="url(#shadowL)"/>
  <text x="70" y="185" font-size="11" fill="#333">Query + Doc B</text>
  <text x="70" y="200" font-size="10" fill="#666">LLM call 2</text>
  <text x="320" y="193" text-anchor="end" font-size="14" font-weight="700" fill="#e65100">0.3</text>

  <rect x="55" y="219" width="290" height="42" rx="6" fill="#fff3e0" stroke="#e65100" stroke-width="1" filter="url(#shadowL)"/>
  <text x="70" y="237" font-size="11" fill="#333">Query + Doc C</text>
  <text x="70" y="252" font-size="10" fill="#666">LLM call 3</text>
  <text x="320" y="245" text-anchor="end" font-size="14" font-weight="700" fill="#e65100">0.9</text>

  <!-- Sort arrow -->
  <line x1="200" y1="268" x2="200" y2="295" stroke="#555" stroke-width="1.2" marker-end="url(#arrowL)"/>
  <text x="220" y="287" font-size="10" fill="#888">Sort by score</text>

  <!-- Result -->
  <rect x="100" y="300" width="200" height="30" rx="6" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1" filter="url(#shadowL)"/>
  <text x="200" y="320" text-anchor="middle" font-size="12" font-weight="600" fill="#2e7d32">C (0.9) > A (0.8) > B (0.3)</text>

  <!-- Pros/cons -->
  <text x="55" y="355" font-size="10" fill="#2e7d32">+ Parallelizable, simple</text>
  <text x="55" y="370" font-size="10" fill="#c62828">- No comparative context between docs</text>

  <!-- Right: Listwise -->
  <rect x="420" y="50" width="350" height="330" rx="10" fill="#f9fafb" stroke="#ddd" stroke-width="1"/>
  <text x="595" y="78" text-anchor="middle" font-size="14" font-weight="700" fill="#6a1b9a">Listwise Ranking</text>
  <text x="595" y="96" text-anchor="middle" font-size="11" fill="#666">Compare all documents simultaneously</text>

  <!-- Single LLM call box -->
  <rect x="445" y="115" width="300" height="130" rx="8" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="1.5" filter="url(#shadowL)"/>
  <text x="460" y="137" font-size="11" font-weight="600" fill="#6a1b9a">Single LLM Call</text>
  <text x="460" y="158" font-size="11" fill="#333">Query + [Doc A, Doc B, Doc C]</text>
  <rect x="460" y="168" width="270" height="22" rx="4" fill="#ede7f6" stroke="#9575cd" stroke-width="0.8"/>
  <text x="595" y="184" text-anchor="middle" font-size="10" fill="#6a1b9a">LLM compares all docs against each other</text>
  <text x="460" y="210" font-size="11" fill="#333">Output:</text>
  <text x="510" y="210" font-size="12" font-weight="700" fill="#6a1b9a">[3], [1], [2]</text>
  <text x="590" y="210" font-size="10" fill="#666">(C best, A next, B last)</text>
  <text x="460" y="232" font-size="10" fill="#888">RankGPT-style prompt</text>

  <!-- Arrow to result -->
  <line x1="595" y1="252" x2="595" y2="295" stroke="#555" stroke-width="1.2" marker-end="url(#arrowL)"/>

  <!-- Result -->
  <rect x="490" y="300" width="210" height="30" rx="6" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1" filter="url(#shadowL)"/>
  <text x="595" y="320" text-anchor="middle" font-size="12" font-weight="600" fill="#2e7d32">C > A > B (global ordering)</text>

  <!-- Pros/cons -->
  <text x="445" y="355" font-size="10" fill="#2e7d32">+ Comparative judgment, more robust</text>
  <text x="445" y="370" font-size="10" fill="#c62828">- Context window limits, positional bias</text>

</svg>
