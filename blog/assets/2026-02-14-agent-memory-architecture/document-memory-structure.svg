<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 500" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <marker id="arrowD" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#555"/>
    </marker>
    <marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#2e7d32"/>
    </marker>
    <marker id="arrowPurple" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#6a1b9a"/>
    </marker>
    <filter id="shadowD" x="-2%" y="-2%" width="104%" height="108%">
      <feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="410" y="28" text-anchor="middle" font-size="18" font-weight="700" fill="#1a1a2e">Document Memory: File-Based Structure</text>

  <!-- Left side: Folder structure -->
  <rect x="20" y="50" width="360" height="420" rx="10" fill="#f5fff7" stroke="#2e7d32" stroke-width="1.5" stroke-dasharray="5"/>
  <text x="200" y="75" text-anchor="middle" font-size="14" font-weight="700" fill="#2e7d32">Folder Structure</text>

  <!-- Base directory -->
  <rect x="40" y="95" width="320" height="32" rx="6" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1.5" filter="url(#shadowD)"/>
  <text x="50" y="116" font-size="12" font-weight="700" fill="#2e7d32">ğŸ“ .agent-memory/</text>

  <!-- README -->
  <rect x="60" y="137" width="280" height="26" rx="4" fill="white" stroke="#27ae60" stroke-width="1" filter="url(#shadowD)"/>
  <text x="70" y="154" font-size="11" fill="#555">ğŸ“„ README.md</text>
  <text x="240" y="154" font-size="9" fill="#888">Human-readable guide</text>

  <!-- User profiles folder -->
  <rect x="60" y="173" width="280" height="26" rx="4" fill="#e8f5e9" stroke="#27ae60" stroke-width="1" filter="url(#shadowD)"/>
  <text x="70" y="190" font-size="11" font-weight="600" fill="#2e7d32">ğŸ“ user-profiles/</text>

  <rect x="80" y="207" width="260" height="22" rx="4" fill="white" stroke="#27ae60" stroke-width="0.5" filter="url(#shadowD)"/>
  <text x="90" y="222" font-size="10" fill="#555">ğŸ“„ user-123.md</text>
  <text x="240" y="222" font-size="9" fill="#888">Preferences, history</text>

  <rect x="80" y="235" width="260" height="22" rx="4" fill="white" stroke="#27ae60" stroke-width="0.5" filter="url(#shadowD)"/>
  <text x="90" y="250" font-size="10" fill="#555">ğŸ“„ user-456.md</text>

  <!-- Research folder -->
  <rect x="60" y="267" width="280" height="26" rx="4" fill="#e8f5e9" stroke="#27ae60" stroke-width="1" filter="url(#shadowD)"/>
  <text x="70" y="284" font-size="11" font-weight="600" fill="#2e7d32">ğŸ“ research/</text>

  <rect x="80" y="301" width="260" height="22" rx="4" fill="white" stroke="#27ae60" stroke-width="0.5" filter="url(#shadowD)"/>
  <text x="90" y="316" font-size="10" fill="#555">ğŸ“„ NVDA-2026-02.md</text>
  <text x="240" y="316" font-size="9" fill="#888">Analysis notes</text>

  <rect x="80" y="329" width="260" height="22" rx="4" fill="white" stroke="#27ae60" stroke-width="0.5" filter="url(#shadowD)"/>
  <text x="90" y="344" font-size="10" fill="#555">ğŸ“„ TSLA-2026-01.md</text>

  <!-- Conventions folder -->
  <rect x="60" y="361" width="280" height="26" rx="4" fill="#e8f5e9" stroke="#27ae60" stroke-width="1" filter="url(#shadowD)"/>
  <text x="70" y="378" font-size="11" font-weight="600" fill="#2e7d32">ğŸ“ conventions/</text>

  <rect x="80" y="395" width="260" height="22" rx="4" fill="white" stroke="#27ae60" stroke-width="0.5" filter="url(#shadowD)"/>
  <text x="90" y="410" font-size="10" fill="#555">ğŸ“„ analysis-format.md</text>
  <text x="240" y="410" font-size="9" fill="#888">Report structure</text>

  <rect x="80" y="423" width="260" height="22" rx="4" fill="white" stroke="#27ae60" stroke-width="0.5" filter="url(#shadowD)"/>
  <text x="90" y="438" font-size="10" fill="#555">ğŸ“„ data-sources.md</text>
  <text x="240" y="438" font-size="9" fill="#888">API patterns</text>

  <!-- Right side: Operations -->
  <rect x="420" y="50" width="380" height="420" rx="10" fill="#faf5ff" stroke="#6a1b9a" stroke-width="1.5" stroke-dasharray="5"/>
  <text x="610" y="75" text-anchor="middle" font-size="14" font-weight="700" fill="#6a1b9a">Agent Operations</text>

  <!-- Read operation -->
  <rect x="440" y="95" width="340" height="85" rx="8" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="1.5" filter="url(#shadowD)"/>
  <text x="610" y="115" text-anchor="middle" font-size="13" font-weight="600" fill="#6a1b9a">Read Operation</text>

  <rect x="455" y="125" width="310" height="24" rx="4" fill="white" stroke="#9b59b6" stroke-width="1"/>
  <text x="465" y="142" font-size="10" font-weight="600" fill="#555">doc_memory.read_doc("conventions/analysis-format.md")</text>

  <rect x="455" y="154" width="310" height="18" rx="4" fill="#e8f5e9" stroke="#27ae60" stroke-width="1"/>
  <text x="465" y="167" font-size="9" fill="#2e7d32">â†’ Returns Markdown content for agent to process</text>

  <!-- Write operation -->
  <rect x="440" y="195" width="340" height="105" rx="8" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="1.5" filter="url(#shadowD)"/>
  <text x="610" y="215" text-anchor="middle" font-size="13" font-weight="600" fill="#6a1b9a">Write Operation</text>

  <rect x="455" y="225" width="310" height="24" rx="4" fill="white" stroke="#9b59b6" stroke-width="1"/>
  <text x="465" y="242" font-size="10" font-weight="600" fill="#555">doc_memory.write_doc("research/NVDA-2026-02.md", ...)</text>

  <rect x="455" y="254" width="310" height="38" rx="4" fill="#fff3e0" stroke="#e67e22" stroke-width="1"/>
  <text x="465" y="268" font-size="9" fill="#555">â†’ Creates/overwrites file with research summary</text>
  <text x="465" y="280" font-size="9" fill="#555">â†’ Optional: metadata stored as .md.meta JSON sidecar</text>

  <!-- List operation -->
  <rect x="440" y="315" width="340" height="70" rx="8" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="1.5" filter="url(#shadowD)"/>
  <text x="610" y="335" text-anchor="middle" font-size="13" font-weight="600" fill="#6a1b9a">List Operation</text>

  <rect x="455" y="345" width="310" height="24" rx="4" fill="white" stroke="#9b59b6" stroke-width="1"/>
  <text x="465" y="362" font-size="10" font-weight="600" fill="#555">doc_memory.list_docs("research/*.md")</text>

  <rect x="455" y="373" width="310" height="24" rx="4" fill="#e8f5e9" stroke="#27ae60" stroke-width="1"/>
  <text x="465" y="390" font-size="9" fill="#2e7d32">â†’ Returns: ["research/NVDA-2026-02.md", "research/TSLA-2026-01.md"]</text>

  <!-- Search operation -->
  <rect x="440" y="400" width="340" height="55" rx="8" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="1.5" filter="url(#shadowD)"/>
  <text x="610" y="420" text-anchor="middle" font-size="13" font-weight="600" fill="#6a1b9a">Search Operation</text>

  <rect x="455" y="430" width="310" height="18" rx="4" fill="white" stroke="#9b59b6" stroke-width="1"/>
  <text x="465" y="443" font-size="10" font-weight="600" fill="#555">doc_memory.search_docs("pytest")</text>

  <!-- Arrows connecting structure to operations -->
  <path d="M380 240 Q400 240 420 240" stroke="#2e7d32" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  <text x="390" y="232" font-size="9" font-weight="600" fill="#2e7d32">read</text>

  <path d="M420 280 Q400 280 380 280" stroke="#6a1b9a" stroke-width="2" fill="none" marker-end="url(#arrowPurple)"/>
  <text x="390" y="272" font-size="9" font-weight="600" fill="#6a1b9a">write</text>

  <!-- Bottom note -->
  <rect x="20" y="480" width="780" height="28" rx="14" fill="#f5f5f5" stroke="#999" stroke-width="1"/>
  <text x="410" y="499" text-anchor="middle" font-size="11" fill="#555">Key insight: Agent and human both read/write the same files â€” fully transparent, git-native memory</text>
</svg>
