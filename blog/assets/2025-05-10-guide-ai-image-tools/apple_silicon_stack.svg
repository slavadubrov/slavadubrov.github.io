<?xml version='1.0' encoding='utf-8'?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400">
  <defs>
    <filter id="shadow" height="130%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2" />
      <feOffset dx="0" dy="2" result="offsetblur" />
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.2" />
      </feComponentTransfer>
      <feMerge>
        <feMergeNode />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <marker id="arrowUp" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
    </marker>
    <marker id="arrowDown" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
    </marker>
  </defs>

  <rect width="100%" height="100%" fill="white" /><rect width="600" height="400" fill="#f8fafc" rx="10" ry="10" />

  <text x="300" y="40" font-family="sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#334155">Apple Silicon AI Stack</text>


  <g transform="translate(100, 70)">


    <g transform="translate(0, 0)">
      <rect x="0" y="0" width="400" height="60" rx="4" fill="#3b82f6" filter="url(#shadow)" />
      <text x="200" y="25" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Application Layer</text>
      <text x="200" y="45" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#dbeafe">ComfyUI, DiffusionBee, Draw Things</text>
    </g>


    <line x1="200" y1="60" x2="200" y2="80" stroke="#cbd5e1" stroke-width="2" />


    <g transform="translate(0, 80)">
      <rect x="0" y="0" width="400" height="60" rx="4" fill="#f97316" filter="url(#shadow)" />
      <text x="200" y="25" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">ML Framework</text>
      <text x="200" y="45" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#ffedd5">PyTorch / CoreML</text>
    </g>


    <line x1="200" y1="140" x2="200" y2="160" stroke="#cbd5e1" stroke-width="2" />


    <g transform="translate(0, 160)">
      <rect x="0" y="0" width="400" height="60" rx="4" fill="#8b5cf6" filter="url(#shadow)" />
      <text x="200" y="25" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Metal Performance Shaders (MPS)</text>
      <text x="200" y="45" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#f3e8ff">Hardware Acceleration API</text>
    </g>


    <line x1="200" y1="220" x2="200" y2="240" stroke="#cbd5e1" stroke-width="2" />


    <g transform="translate(0, 240)">
      <rect x="0" y="0" width="400" height="60" rx="4" fill="#475569" filter="url(#shadow)" />
      <text x="200" y="25" font-family="sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Apple Silicon (M-Series)</text>
      <text x="200" y="45" font-family="sans-serif" font-size="12" text-anchor="middle" fill="#e2e8f0">Unified Memory Architecture (CPU + GPU)</text>
    </g>

  </g>


  <g transform="translate(520, 70)">

    <line x1="0" y1="10" x2="0" y2="290" stroke="#64748b" stroke-width="2" marker-end="url(#arrowDown)" />
    <text x="15" y="150" font-family="sans-serif" font-size="12" fill="#64748b" transform="rotate(90, 15, 150)" text-anchor="middle">Optimization Flow</text>
  </g>

</svg>
